<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>Monsieur</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400;0,6..96,700;1,6..96,400&family=EB+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Jost:wght@200;300;400;500&display=swap" rel="stylesheet"/>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
/* ‚îÄ‚îÄ‚îÄ TOKENS ‚îÄ‚îÄ‚îÄ */
:root{
  --void:#060504;
  --deep:#0d0b09;
  --surface:#161310;
  --card:#1c1814;
  --card2:#221e19;
  --gold:#c8a45a;
  --gold2:#e2c07a;
  --gold3:#f5dda0;
  --ember:#d4621a;
  --cream:#f2e8d8;
  --fog:#8a7f72;
  --rim:rgba(200,164,90,.15);
  --rim2:rgba(200,164,90,.08);
  --r:14px;
}

*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{background:var(--void);color:var(--cream);font-family:'Jost',sans-serif;font-weight:300;min-height:100vh;overflow-x:hidden}

/* ‚îÄ‚îÄ‚îÄ GRAIN OVERLAY ‚îÄ‚îÄ‚îÄ */
body::before{
  content:'';position:fixed;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events:none;z-index:9999;opacity:.5;
}

/* ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ */
.hero{
  position:relative;height:300px;overflow:hidden;
  display:flex;flex-direction:column;align-items:center;justify-content:flex-end;
  padding-bottom:36px;
}
.hero-bg{
  position:absolute;inset:0;
  background:url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=900&q=85') center/cover no-repeat;
  transform:scale(1.08);
  animation:heroZoom 18s ease-in-out infinite alternate;
}
@keyframes heroZoom{to{transform:scale(1)}}
.hero-bg::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(180deg,rgba(6,5,4,.2) 0%,rgba(6,5,4,.7) 60%,rgba(6,5,4,1) 100%);
}

/* Floating orbs */
.orb{
  position:absolute;border-radius:50%;filter:blur(40px);pointer-events:none;
  animation:drift linear infinite;
}
.orb1{width:180px;height:180px;background:radial-gradient(circle,rgba(200,164,90,.18),transparent 70%);top:-40px;left:-20px;animation-duration:12s;}
.orb2{width:120px;height:120px;background:radial-gradient(circle,rgba(212,98,26,.12),transparent 70%);top:20px;right:10px;animation-duration:9s;animation-delay:-4s;}
.orb3{width:90px;height:90px;background:radial-gradient(circle,rgba(200,164,90,.1),transparent 70%);bottom:60px;right:30px;animation-duration:14s;animation-delay:-7s;}
@keyframes drift{
  0%,100%{transform:translate(0,0) scale(1)}
  33%{transform:translate(15px,-20px) scale(1.1)}
  66%{transform:translate(-10px,10px) scale(.9)}
}

.hero-content{position:relative;z-index:1;text-align:center}
.hero-eyebrow{
  font-size:9px;letter-spacing:5px;text-transform:uppercase;
  color:var(--gold);margin-bottom:10px;
  animation:fadeUp .8s .2s both;
}
.hero-title{
  font-family:'Bodoni Moda',serif;font-size:52px;font-weight:700;
  letter-spacing:2px;line-height:.95;
  background:linear-gradient(160deg,var(--cream) 40%,var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  animation:fadeUp .8s .35s both;
}
.hero-sub{
  font-family:'EB Garamond',serif;font-style:italic;font-size:17px;
  color:var(--gold);margin-top:8px;letter-spacing:1.5px;
  animation:fadeUp .8s .5s both;
}
.hero-divider{
  display:flex;align-items:center;justify-content:center;gap:10px;
  margin-top:12px;
  animation:fadeUp .8s .65s both;
}
.hero-divider span{width:30px;height:1px;background:linear-gradient(90deg,transparent,var(--gold),.6)}
.hero-divider span:last-child{background:linear-gradient(90deg,rgba(200,164,90,.6),transparent)}
.hero-divider i{font-size:10px;color:var(--gold);font-style:normal}

/* ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ */
.nav{
  display:flex;background:var(--deep);
  border-bottom:1px solid var(--rim);
  position:sticky;top:0;z-index:100;
  backdrop-filter:blur(12px);
}
.nav-btn{
  flex:1;padding:15px 4px;background:none;border:none;
  color:var(--fog);font-family:'Jost',sans-serif;
  font-size:9.5px;letter-spacing:2px;text-transform:uppercase;
  cursor:pointer;position:relative;transition:color .3s;
}
.nav-btn.active{color:var(--gold)}
.nav-slider{
  position:absolute;bottom:0;height:1.5px;
  background:linear-gradient(90deg,transparent,var(--gold),transparent);
  transition:left .35s cubic-bezier(.65,0,.35,1),width .35s cubic-bezier(.65,0,.35,1);
}

/* ‚îÄ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ‚îÄ */
.page{display:none;padding-bottom:110px}
.page.active{display:block}

/* ‚îÄ‚îÄ‚îÄ SECTION HEADING ‚îÄ‚îÄ‚îÄ */
.s-head{padding:26px 20px 4px}
.s-title{
  font-family:'Bodoni Moda',serif;font-size:26px;font-weight:400;
  letter-spacing:.5px;line-height:1;
}
.s-title em{color:var(--gold);font-style:normal}
.s-line{height:1px;background:linear-gradient(90deg,var(--gold) 0%,transparent 60%);margin:10px 20px 0;opacity:.3}

/* ‚îÄ‚îÄ‚îÄ CATEGORY SCROLL ‚îÄ‚îÄ‚îÄ */
.cat-wrap{padding:18px 20px 16px;overflow-x:auto;scrollbar-width:none;display:flex;gap:8px}
.cat-wrap::-webkit-scrollbar{display:none}
.cat-pill{
  flex-shrink:0;padding:8px 18px;border-radius:30px;border:1px solid var(--rim);
  background:none;color:var(--fog);
  font-family:'Jost',sans-serif;font-size:11px;letter-spacing:1.5px;text-transform:uppercase;
  cursor:pointer;transition:all .25s;white-space:nowrap;
}
.cat-pill.active{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  border-color:transparent;color:var(--void);font-weight:500;
}

/* ‚îÄ‚îÄ‚îÄ MENU CARDS ‚îÄ‚îÄ‚îÄ */
.menu-grid{padding:0 16px;display:flex;flex-direction:column;gap:10px}
.mcard{
  display:flex;gap:0;background:var(--card);
  border:1px solid var(--rim2);border-radius:var(--r);
  overflow:hidden;position:relative;
  transition:border-color .3s,transform .2s;
  opacity:0;transform:translateY(20px);
}
.mcard.visible{
  animation:cardReveal .5s forwards;
}
@keyframes cardReveal{
  to{opacity:1;transform:translateY(0)}
}
.mcard:active{transform:scale(.985)}
.mcard::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(200,164,90,.04),transparent);
  opacity:0;transition:opacity .3s;pointer-events:none;z-index:1;
}
.mcard:hover::before{opacity:1}

.mcard-img-wrap{
  position:relative;width:100px;flex-shrink:0;overflow:hidden;
}
.mcard-img{
  width:100%;height:100%;object-fit:cover;
  transition:transform .6s cubic-bezier(.25,.1,.25,1);
  min-height:105px;
}
.mcard:hover .mcard-img{transform:scale(1.08)}
.mcard-img-overlay{
  position:absolute;inset:0;
  background:linear-gradient(90deg,transparent 60%,var(--card));
}

.mcard-body{
  flex:1;padding:14px 14px 14px 0;
  display:flex;flex-direction:column;justify-content:space-between;
}
.mcard-name{
  font-family:'Bodoni Moda',serif;font-size:15.5px;line-height:1.2;
  margin-bottom:4px;
}
.mcard-desc{
  font-family:'EB Garamond',serif;font-style:italic;
  font-size:13px;color:var(--fog);line-height:1.4;flex:1;
}
.mcard-foot{
  display:flex;align-items:center;justify-content:space-between;margin-top:10px;
}
.mcard-price{
  font-size:15px;font-weight:500;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}

/* Add button */
.add-btn{
  width:32px;height:32px;border-radius:50%;
  border:1.5px solid var(--gold);background:none;
  color:var(--gold);font-size:20px;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all .2s;position:relative;overflow:hidden;
}
.add-btn::after{
  content:'';position:absolute;inset:0;border-radius:50%;
  background:var(--gold);transform:scale(0);transition:transform .25s;
}
.add-btn:active::after{transform:scale(1)}
.add-btn .plus{position:relative;z-index:1;transition:color .15s;pointer-events:none}
.add-btn:active .plus{color:var(--void)}

/* Qty control */
.qty-ctrl{display:flex;align-items:center;gap:6px}
.qty-btn{
  width:28px;height:28px;border-radius:50%;
  border:1px solid var(--rim);background:none;color:var(--cream);
  font-size:16px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all .2s;
}
.qty-btn:active{border-color:var(--gold);color:var(--gold);transform:scale(.9)}
.qty-num{
  font-size:15px;font-weight:500;min-width:20px;text-align:center;
  transition:transform .2s;
}
.qty-num.bump{animation:numBump .25s ease}
@keyframes numBump{0%{transform:scale(1)}50%{transform:scale(1.4)}100%{transform:scale(1)}}

/* Cart badge */
.cart-badge{
  display:inline-flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  color:var(--void);border-radius:10px;
  padding:1px 6px;font-size:10px;font-weight:600;
  margin-left:4px;vertical-align:middle;
  animation:badgePop .25s ease;
}
@keyframes badgePop{0%{transform:scale(0)}70%{transform:scale(1.3)}100%{transform:scale(1)}}

/* ‚îÄ‚îÄ‚îÄ BOOKING ‚îÄ‚îÄ‚îÄ */
.book-form{padding:4px 20px;display:flex;flex-direction:column;gap:22px}
.f-group{display:flex;flex-direction:column;gap:9px}
.f-label{
  font-size:9px;letter-spacing:3px;text-transform:uppercase;
  color:var(--gold);
}
.f-input,.f-select,.f-textarea{
  background:var(--card);border:1px solid var(--rim);
  border-radius:12px;padding:14px 16px;
  color:var(--cream);font-family:'Jost',sans-serif;
  font-size:15px;font-weight:300;outline:none;
  transition:border-color .25s,box-shadow .25s;width:100%;
  -webkit-appearance:none;appearance:none;
}
.f-input:focus,.f-select:focus,.f-textarea:focus{
  border-color:rgba(200,164,90,.5);
  box-shadow:0 0 0 3px rgba(200,164,90,.08);
}
.f-select option,.f-textarea option{background:var(--card)}
.f-textarea{resize:none}

/* Time grid */
.time-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.time-btn{
  padding:10px 0;border:1px solid var(--rim);border-radius:12px;
  background:none;color:var(--fog);
  font-family:'Jost',sans-serif;font-size:13px;
  cursor:pointer;transition:all .25s;
  position:relative;overflow:hidden;
}
.time-btn.available{
  animation:pulse-ring 2.5s ease-in-out infinite;
}
@keyframes pulse-ring{
  0%,100%{box-shadow:0 0 0 0 rgba(200,164,90,0)}
  50%{box-shadow:0 0 0 3px rgba(200,164,90,.1)}
}
.time-btn.selected{
  background:linear-gradient(135deg,rgba(200,164,90,.2),rgba(200,164,90,.08));
  border-color:var(--gold);color:var(--gold);
  animation:none;
}
.time-btn.booked{
  opacity:.45;cursor:not-allowed;
  background:repeating-linear-gradient(-45deg,transparent,transparent 4px,rgba(255,255,255,.015) 4px,rgba(255,255,255,.015) 8px);
}
.time-btn .t-label{display:block;font-size:13px}
.time-btn .t-status{display:block;font-size:9px;margin-top:2px;letter-spacing:1px}
.time-btn.booked .t-status{color:var(--ember)}
.time-btn.selected .t-status{color:var(--gold)}

/* Guests */
.guest-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
.guest-btn{
  padding:12px 0;border:1px solid var(--rim);border-radius:12px;
  background:none;color:var(--fog);
  font-family:'Jost',sans-serif;font-size:14px;
  cursor:pointer;transition:all .2s;
}
.guest-btn.active{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  border-color:transparent;color:var(--void);font-weight:500;
}

/* Submit button */
.cta-btn{
  width:100%;padding:18px;
  background:linear-gradient(135deg,var(--gold),var(--gold2),var(--gold3));
  background-size:200% 200%;
  border:none;border-radius:14px;
  color:var(--void);font-family:'Bodoni Moda',serif;
  font-size:17px;font-weight:700;letter-spacing:.5px;
  cursor:pointer;position:relative;overflow:hidden;
  transition:transform .15s,box-shadow .3s;
  animation:gradientShift 4s ease infinite;
}
@keyframes gradientShift{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}
.cta-btn:active{transform:scale(.98)}
.cta-btn:disabled{opacity:.35;pointer-events:none;animation:none}
.cta-btn::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,.25),transparent);
  opacity:0;transition:opacity .2s;
}
.cta-btn:hover::after{opacity:1}

/* Ripple */
.ripple{
  position:absolute;border-radius:50%;
  background:rgba(255,255,255,.3);
  transform:scale(0);animation:rippleAnim .5s linear;
  pointer-events:none;
}
@keyframes rippleAnim{to{transform:scale(4);opacity:0}}

/* ‚îÄ‚îÄ‚îÄ ORDER PAGE ‚îÄ‚îÄ‚îÄ */
.order-list{padding:0 16px;display:flex;flex-direction:column;gap:8px}
.oitem{
  display:flex;align-items:center;gap:12px;
  background:var(--card);border:1px solid var(--rim2);
  border-radius:12px;padding:12px 14px;
  animation:slideIn .3s ease;
}
@keyframes slideIn{from{opacity:0;transform:translateX(-12px)}}
.oitem-img{width:48px;height:48px;border-radius:8px;object-fit:cover}
.oitem-info{flex:1}
.oitem-name{font-family:'Bodoni Moda',serif;font-size:14.5px}
.oitem-qty{font-size:11px;color:var(--fog);margin-top:2px}
.oitem-price{
  font-size:14px;font-weight:500;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.order-summary{
  margin:14px 20px 0;background:var(--card);
  border:1px solid var(--rim2);border-radius:14px;padding:18px;
}
.sum-row{
  display:flex;justify-content:space-between;
  font-size:13px;color:var(--fog);padding:4px 0;
}
.sum-row.total{
  font-family:'Bodoni Moda',serif;font-size:18px;color:var(--cream);
  border-top:1px solid var(--rim);margin-top:10px;padding-top:14px;
}
.sum-row.total span:last-child{
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.empty-state{
  text-align:center;padding:70px 20px;
  animation:fadeUp .5s ease;
}
.empty-icon{font-size:52px;margin-bottom:14px;filter:grayscale(.5)}
.empty-txt{
  font-family:'EB Garamond',serif;font-style:italic;
  font-size:19px;color:var(--fog);line-height:1.5;
}

/* ‚îÄ‚îÄ‚îÄ ABOUT ‚îÄ‚îÄ‚îÄ */
.about-wrap{padding:4px 20px}
.about-img-wrap{
  position:relative;height:190px;border-radius:16px;
  overflow:hidden;margin-bottom:20px;
}
.about-img{width:100%;height:100%;object-fit:cover;transition:transform .6s ease}
.about-img-wrap:hover .about-img{transform:scale(1.04)}
.about-img-wrap::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(180deg,transparent 50%,rgba(6,5,4,.7));
}
.about-txt{
  font-family:'EB Garamond',serif;font-size:17px;
  line-height:1.75;color:#c5bbb0;margin-bottom:18px;
}
.info-list{display:flex;flex-direction:column;gap:8px}
.info-item{
  display:flex;align-items:center;gap:14px;
  background:var(--card);border:1px solid var(--rim2);
  border-radius:12px;padding:14px 16px;
  transition:border-color .25s;
}
.info-item:hover{border-color:var(--rim)}
.info-icon{font-size:20px;width:28px;text-align:center;flex-shrink:0}
.info-lbl{font-size:9px;letter-spacing:2.5px;text-transform:uppercase;color:var(--gold)}
.info-val{font-size:14px;margin-top:3px}

/* ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ */
.toast{
  position:fixed;bottom:88px;left:50%;
  transform:translateX(-50%) translateY(12px);
  background:var(--card2);border:1px solid var(--rim);
  color:var(--cream);padding:11px 22px;border-radius:30px;
  font-size:13px;opacity:0;z-index:1000;
  transition:all .3s cubic-bezier(.34,1.56,.64,1);
  pointer-events:none;white-space:nowrap;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* ‚îÄ‚îÄ‚îÄ SUCCESS OVERLAY ‚îÄ‚îÄ‚îÄ */
.success-overlay{
  display:none;position:fixed;inset:0;
  background:rgba(6,5,4,.97);
  z-index:500;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;padding:40px;
}
.success-overlay.show{
  display:flex;
  animation:overlayIn .4s cubic-bezier(.34,1.2,.64,1);
}
@keyframes overlayIn{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}
.success-particles{
  position:absolute;inset:0;pointer-events:none;overflow:hidden;
}
.spark{
  position:absolute;width:4px;height:4px;border-radius:50%;
  animation:sparkFly 1.2s ease-out forwards;
}
@keyframes sparkFly{
  0%{transform:translate(0,0) scale(1);opacity:1}
  100%{transform:var(--tx,0) var(--ty,0) scale(0);opacity:0}
}
.success-ring{
  width:90px;height:90px;border-radius:50%;
  border:1.5px solid var(--gold);
  display:flex;align-items:center;justify-content:center;
  margin-bottom:24px;
  animation:ringGrow .5s .1s cubic-bezier(.34,1.4,.64,1) both;
  position:relative;
}
.success-ring::before{
  content:'';position:absolute;inset:-8px;border-radius:50%;
  border:1px solid rgba(200,164,90,.2);
  animation:ringPulse 2s ease infinite;
}
@keyframes ringGrow{from{transform:scale(0);opacity:0}}
@keyframes ringPulse{
  0%,100%{transform:scale(1);opacity:1}
  50%{transform:scale(1.1);opacity:0}
}
.success-icon{font-size:38px;animation:iconPop .4s .3s both;line-height:1}
@keyframes iconPop{from{transform:scale(0) rotate(-20deg);opacity:0}}
.success-title{
  font-family:'Bodoni Moda',serif;font-size:30px;font-weight:700;
  background:linear-gradient(135deg,var(--gold),var(--gold3));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  margin-bottom:12px;
  animation:fadeUp .4s .4s both;
}
.success-text{
  font-family:'EB Garamond',serif;font-style:italic;
  font-size:16px;color:var(--fog);line-height:1.7;
  margin-bottom:32px;white-space:pre-line;
  animation:fadeUp .4s .5s both;
}
.success-cta{
  animation:fadeUp .4s .6s both;width:100%;max-width:280px;
}

/* ‚îÄ‚îÄ‚îÄ HELPERS ‚îÄ‚îÄ‚îÄ */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(16px)}
  to{opacity:1;transform:translateY(0)}
}
.pb{height:24px}
</style>
</head>
<body>

<!-- HERO -->
<div class="hero">
  <div class="hero-bg"></div>
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
  <div class="hero-content">
    <div class="hero-eyebrow">Fine Dining ¬∑ –ú–æ—Å–∫–≤–∞</div>
    <h1 class="hero-title">Monsieur</h1>
    <p class="hero-sub">cuisine fran√ßaise</p>
    <div class="hero-divider">
      <span></span><i>‚ú¶</i><span></span>
    </div>
  </div>
</div>

<!-- NAV -->
<nav class="nav" id="nav">
  <button class="nav-btn active" data-page="menu">–ú–µ–Ω—é</button>
  <button class="nav-btn" data-page="booking">–ë—Ä–æ–Ω—å</button>
  <button class="nav-btn" data-page="order">–ó–∞–∫–∞–∑ <span class="cart-badge" id="cartBadge" style="display:none">0</span></button>
  <button class="nav-btn" data-page="about">–û –Ω–∞—Å</button>
  <div class="nav-slider" id="navSlider"></div>
</nav>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MENU ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-menu" class="page active">
  <div class="s-head">
    <div class="s-title">–ù–∞—à–µ <em>–º–µ–Ω—é</em></div>
  </div>
  <div class="s-line"></div>
  <div class="cat-wrap" id="catWrap"></div>
  <div class="menu-grid" id="menuGrid"></div>
  <div class="pb"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOOKING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-booking" class="page">
  <div class="s-head">
    <div class="s-title">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å <em>—Å—Ç–æ–ª–∏–∫</em></div>
  </div>
  <div class="s-line"></div>
  <div style="height:20px"></div>
  <div class="book-form">
    <div class="f-group">
      <label class="f-label">–í–∞—à–µ –∏–º—è</label>
      <input id="bName" type="text" class="f-input" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"/>
    </div>
    <div class="f-group">
      <label class="f-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
      <input id="bPhone" type="tel" class="f-input" placeholder="+7 900 000-00-00"/>
    </div>
    <div class="f-group">
      <label class="f-label">–î–∞—Ç–∞</label>
      <input id="bDate" type="date" class="f-input" id="bDate"/>
    </div>
    <div class="f-group">
      <label class="f-label">–í—Ä–µ–º—è</label>
      <div class="time-grid" id="timeGrid"></div>
    </div>
    <div class="f-group">
      <label class="f-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</label>
      <div class="guest-grid" id="guestGrid"></div>
    </div>
    <div class="f-group">
      <label class="f-label">–ü–æ–∂–µ–ª–∞–Ω–∏—è</label>
      <textarea id="bComment" class="f-textarea" rows="3"
        placeholder="–¢–∏—Ö–∏–π —É–≥–æ–ª, –≤–∏–¥ –Ω–∞ –∑–∞–ª, –¥–µ—Ç—Å–∫–æ–µ –∫—Ä–µ—Å–ª–æ‚Ä¶"></textarea>
    </div>
    <button class="cta-btn" id="bookBtn" onclick="submitBooking()">
      –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
    </button>
  </div>
  <div class="pb"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ORDER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-order" class="page">
  <div class="s-head">
    <div class="s-title">–í–∞—à <em>–∑–∞–∫–∞–∑</em></div>
  </div>
  <div class="s-line"></div>
  <div style="height:16px"></div>
  <div id="orderContent"></div>
  <div class="pb"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-about" class="page">
  <div class="s-head">
    <div class="s-title">–û <em>—Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</em></div>
  </div>
  <div class="s-line"></div>
  <div style="height:20px"></div>
  <div class="about-wrap">
    <div class="about-img-wrap">
      <img class="about-img" src="https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&q=80" alt="–ó–∞–ª"/>
    </div>
    <p class="about-txt">Monsieur ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≥–¥–µ –∫–∞–∂–¥–æ–µ –±–ª—é–¥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é. –í–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–¥–∏—Ü–∏–µ–π —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–π –∫—É—Ö–Ω–∏, –º—ã —Å–æ–∑–¥–∞—ë–º –≤–µ—á–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–æ–º–∏–Ω–∞—é—Ç—Å—è.</p>
    <p class="about-txt">–®–µ—Ñ –ü—å–µ—Ä –õ–µ—Ñ–µ–≤—Ä —Å–æ–±—Ä–∞–ª –∫–æ–º–∞–Ω–¥—É –∏–∑ –ª—É—á—à–∏—Ö –∫—É–ª–∏–Ω–∞—Ä–æ–≤ –ï–≤—Ä–æ–ø—ã. –ü—Ä–æ–¥—É–∫—Ç—ã –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å —Ñ–µ—Ä–º –ü—Ä–æ–≤–∞–Ω—Å–∞ –∏ –ë—É—Ä–≥—É–Ω–¥–∏–∏.</p>
    <div class="info-list">
      <div class="info-item">
        <div class="info-icon">üìç</div>
        <div><div class="info-lbl">–ê–¥—Ä–µ—Å</div><div class="info-val">–ú–æ—Å–∫–≤–∞, —É–ª. –ö—É–∑–Ω–µ—Ü–∫–∏–π –ú–æ—Å—Ç, 7</div></div>
      </div>
      <div class="info-item">
        <div class="info-icon">üïê</div>
        <div><div class="info-lbl">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</div><div class="info-val">–ü–Ω‚Äì–ü—Ç 12:00‚Äì23:00 ¬∑ –°–±‚Äì–í—Å 11:00‚Äì00:00</div></div>
      </div>
      <div class="info-item">
        <div class="info-icon">üìû</div>
        <div><div class="info-lbl">–¢–µ–ª–µ—Ñ–æ–Ω</div><div class="info-val">+7 (495) 123-45-67</div></div>
      </div>
      <div class="info-item">
        <div class="info-icon">‚≠ê</div>
        <div><div class="info-lbl">–†–µ–π—Ç–∏–Ω–≥</div><div class="info-val">4.9 ¬∑ Michelin Recommended 2024</div></div>
      </div>
    </div>
  </div>
  <div class="pb"></div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- SUCCESS -->
<div class="success-overlay" id="successOverlay">
  <div class="success-particles" id="sparks"></div>
  <div class="success-ring"><div class="success-icon" id="successIcon">‚úì</div></div>
  <div class="success-title" id="successTitle"></div>
  <div class="success-text" id="successText"></div>
  <div class="success-cta">
    <button class="cta-btn" onclick="closeSuccess()">–û—Ç–ª–∏—á–Ω–æ!</button>
  </div>
</div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DATA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const MENU = [
  {id:1,cat:'starters',name:'–¢–∞—Ä—Ç–∞—Ä –∏–∑ —Ç—É–Ω—Ü–∞',desc:'–°–≤–µ–∂–∏–π —Ç—É–Ω–µ—Ü, –∞–≤–æ–∫–∞–¥–æ, –∏–∫—Ä–∞ —Ç–æ–±–∏–∫–æ, –ª–∏–º–æ–Ω',price:890,img:'https://images.unsplash.com/photo-1626645738196-c2a7c87a8f58?w=400&q=80'},
  {id:2,cat:'starters',name:'–õ—É–∫–æ–≤—ã–π —Å—É–ø',desc:'–ö–∞—Ä–∞–º–µ–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª—É–∫, –≥—Ä—é–π–µ—Ä, –∫—Ä—É—Ç–æ–Ω',price:590,img:'https://images.unsplash.com/photo-1547592166-23ac45744acd?w=400&q=80'},
  {id:3,cat:'starters',name:'–§—É–∞-–≥—Ä–∞',desc:'–£—Ç–∏–Ω–∞—è –ø–µ—á–µ–Ω—å, –∫–∞—Ä–∞–º–µ–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥—Ä—É—à–∞, –±—Ä–∏–æ—à—å',price:1490,img:'https://images.unsplash.com/photo-1600891964092-4316c288032e?w=400&q=80'},
  {id:4,cat:'mains',name:'–£—Ç–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞',desc:'Magret de canard, —Å–æ—É—Å –∏–∑ –∫—Ä–∞—Å–Ω–æ–≥–æ –≤–∏–Ω–∞, —Ç–∏–º—å—è–Ω',price:1890,img:'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&q=80'},
  {id:5,cat:'mains',name:'–î–æ—Ä–∞–¥–æ –Ω–∞ –≥—Ä–∏–ª–µ',desc:'–ü—Ä–æ–≤–∞–Ω—Å–∫–∏–µ –æ–≤–æ—â–∏, –±–∞–∑–∏–ª–∏–∫–æ–≤–æ–µ –º–∞—Å–ª–æ',price:1650,img:'https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400&q=80'},
  {id:6,cat:'mains',name:'–ì–æ–≤—è–∂—å–µ —Ñ–∏–ª–µ',desc:'–°—Ç–µ–π–∫, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ, —Ç—Ä—é—Ñ–µ–ª—å–Ω—ã–π —Å–æ—É—Å',price:2890,img:'https://images.unsplash.com/photo-1558030006-450675393462?w=400&q=80'},
  {id:7,cat:'mains',name:'–†–∏–∑–æ—Ç—Ç–æ —Å –≥—Ä–∏–±–∞–º–∏',desc:'–ü–æ—Ä—Ç–æ–±–µ–ª–ª–æ, –ø–∞—Ä–º–µ–∑–∞–Ω, —Ç—Ä—é—Ñ–µ–ª—å–Ω–æ–µ –º–∞—Å–ª–æ',price:1290,img:'https://images.unsplash.com/photo-1476124369491-e7addf5db371?w=400&q=80'},
  {id:8,cat:'desserts',name:'–ö—Ä–µ–º-–±—Ä—é–ª–µ',desc:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π, —Å –≤–∞–Ω–∏–ª—å—é –ë—É—Ä–±–æ–Ω',price:490,img:'https://images.unsplash.com/photo-1470124182917-cc6e71b22ecc?w=400&q=80'},
  {id:9,cat:'desserts',name:'–¢–∞—Ä—Ç –¢–∞—Ç–µ–Ω',desc:'–Ø–±–ª–æ—á–Ω—ã–π –ø–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç—ã–π —Ç–∞—Ä—Ç, –∫—Ä–µ–º-—Ñ—Ä–µ—à',price:550,img:'https://images.unsplash.com/photo-1559622214-f8a9850965bb?w=400&q=80'},
  {id:10,cat:'desserts',name:'–®–æ–∫–æ–ª–∞–¥–Ω—ã–π —Ñ–æ–Ω–¥–∞–Ω',desc:'72% –≥–æ—Ä—å–∫–∏–π —à–æ–∫–æ–ª–∞–¥, –≤–∞–Ω–∏–ª—å–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ',price:620,img:'https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=400&q=80'},
  {id:11,cat:'drinks',name:'–ë–æ–∫–∞–ª –ë—É—Ä–≥—É–Ω–¥–∏–∏',desc:'Pinot Noir, –¥–æ–º–µ–Ω –ñ–∞–Ω –ì–∏–≤–æ, 2020',price:890,img:'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&q=80'},
  {id:12,cat:'drinks',name:'–õ–∏–º–æ–Ω–∞–¥ Monsieur',desc:'–õ–∞–π–º, –±–∞–∑–∏–ª–∏–∫, –º—è—Ç–∞, –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–æ–¥–∞',price:390,img:'https://images.unsplash.com/photo-1621263764928-df1444c5e859?w=400&q=80'},
  {id:13,cat:'drinks',name:'–ö–æ—Ñ–µ –ø–æ-—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏',desc:'Double espresso, –≥–æ—Ä—å–∫–∏–π —à–æ–∫–æ–ª–∞–¥, –ø–µ–Ω–∞',price:350,img:'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=400&q=80'},
];
const CATS = [{id:'all',label:'–í—Å—ë'},{id:'starters',label:'–ó–∞–∫—É—Å–∫–∏'},{id:'mains',label:'–û—Å–Ω–æ–≤–Ω—ã–µ'},{id:'desserts',label:'–î–µ—Å–µ—Ä—Ç—ã'},{id:'drinks',label:'–ù–∞–ø–∏—Ç–∫–∏'}];
const ALL_TIMES = ['12:00','13:00','14:00','15:00','17:00','18:00','19:00','20:00','21:00','22:00'];

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   STATE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let cart = {};
let activeCat = 'all';
let selectedGuests = 2;
let selectedTime = '';
let pendingData = null;

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BOOKING PERSISTENCE (localStorage)
   Key format: bookings_YYYY-MM-DD ‚Üí ["12:00","19:00"]
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function getBookedTimes(date) {
  if (!date) return [];
  try {
    return JSON.parse(localStorage.getItem('bookings_' + date) || '[]');
  } catch { return []; }
}
function addBookedTime(date, time) {
  const arr = getBookedTimes(date);
  if (!arr.includes(time)) arr.push(time);
  localStorage.setItem('bookings_' + date, JSON.stringify(arr));
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TELEGRAM
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const tg = window.Telegram?.WebApp;
if (tg) { tg.ready(); tg.expand(); }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   NAV SLIDER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const navEl = document.getElementById('nav');
const slider = document.getElementById('navSlider');
function moveSlider(btn) {
  const r = btn.getBoundingClientRect();
  const nr = navEl.getBoundingClientRect();
  slider.style.left = (r.left - nr.left) + 'px';
  slider.style.width = r.width + 'px';
}
document.querySelectorAll('.nav-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('page-' + btn.dataset.page).classList.add('active');
    moveSlider(btn);
    if (btn.dataset.page === 'order') renderOrder();
    if (btn.dataset.page === 'booking') renderTimeGrid();
    window.scrollTo({top:0,behavior:'smooth'});
  });
});
// init slider position
setTimeout(() => moveSlider(document.querySelector('.nav-btn.active')), 0);

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CATEGORIES
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function buildCats() {
  const wrap = document.getElementById('catWrap');
  wrap.innerHTML = CATS.map(c =>
    `<button class="cat-pill ${c.id===activeCat?'active':''}" data-cat="${c.id}">${c.label}</button>`
  ).join('');
  wrap.querySelectorAll('.cat-pill').forEach(b => b.addEventListener('click', () => {
    activeCat = b.dataset.cat;
    buildCats();
    buildMenu();
  }));
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MENU
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function buildMenu() {
  const grid = document.getElementById('menuGrid');
  const items = activeCat === 'all' ? MENU : MENU.filter(m => m.cat === activeCat);
  grid.innerHTML = items.map((item, i) => {
    const qty = cart[item.id] || 0;
    return `
    <div class="mcard" style="animation-delay:${i * 55}ms">
      <div class="mcard-img-wrap">
        <img class="mcard-img" src="${item.img}" alt="${item.name}" loading="lazy"/>
        <div class="mcard-img-overlay"></div>
      </div>
      <div class="mcard-body">
        <div>
          <div class="mcard-name">${item.name}</div>
          <div class="mcard-desc">${item.desc}</div>
        </div>
        <div class="mcard-foot">
          <div class="mcard-price">${item.price.toLocaleString()} ‚ÇΩ</div>
          ${qty === 0
            ? `<button class="add-btn" onclick="addItem(${item.id},this)"><span class="plus">+</span></button>`
            : `<div class="qty-ctrl">
                <button class="qty-btn" onclick="removeItem(${item.id})">‚àí</button>
                <span class="qty-num" id="qty_${item.id}">${qty}</span>
                <button class="qty-btn" onclick="addItem(${item.id})">+</button>
               </div>`
          }
        </div>
      </div>
    </div>`;
  }).join('');

  // Intersection observer for card reveal
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) { e.target.classList.add('visible'); observer.unobserve(e.target); }
    });
  }, {threshold: 0.05});
  grid.querySelectorAll('.mcard').forEach(c => observer.observe(c));
}

function addItem(id, btn) {
  cart[id] = (cart[id] || 0) + 1;
  updateBadge();
  buildMenu();
  const item = MENU.find(m => m.id === id);
  showToast('‚ú¶  ' + item.name);
  // Ripple on btn
  if (btn) addRipple(btn);
}
function removeItem(id) {
  if (!cart[id]) return;
  cart[id]--;
  if (!cart[id]) delete cart[id];
  updateBadge();
  buildMenu();
}
function updateBadge() {
  const total = Object.values(cart).reduce((a,b) => a+b, 0);
  const badge = document.getElementById('cartBadge');
  if (total > 0) { badge.style.display = ''; badge.textContent = total; }
  else badge.style.display = 'none';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TIME GRID
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderTimeGrid() {
  const date = document.getElementById('bDate').value;
  const booked = getBookedTimes(date);
  const grid = document.getElementById('timeGrid');
  grid.innerHTML = ALL_TIMES.map(t => {
    const isBooked = booked.includes(t);
    const isSelected = t === selectedTime;
    let cls = isBooked ? 'booked' : (isSelected ? 'selected' : 'available');
    let statusTxt = isBooked ? '–∑–∞–Ω—è—Ç–æ' : (isSelected ? '–≤—ã–±—Ä–∞–Ω–æ' : '—Å–≤–æ–±–æ–¥–Ω–æ');
    return `<button class="time-btn ${cls}" onclick="selectTime('${t}')" ${isBooked ? 'disabled' : ''}>
      <span class="t-label">${t}</span>
      <span class="t-status">${statusTxt}</span>
    </button>`;
  }).join('');
}

function selectTime(t) {
  const date = document.getElementById('bDate').value;
  const booked = getBookedTimes(date);
  if (booked.includes(t)) return;
  selectedTime = t;
  renderTimeGrid();
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   GUESTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function buildGuests() {
  const grid = document.getElementById('guestGrid');
  grid.innerHTML = [1,2,3,4,5,6].map(n =>
    `<button class="guest-btn ${n===selectedGuests?'active':''}" onclick="selectGuest(${n})">${n}</button>`
  ).join('');
}
function selectGuest(n) { selectedGuests = n; buildGuests(); }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SUBMIT BOOKING
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function submitBooking() {
  const name  = document.getElementById('bName').value.trim();
  const phone = document.getElementById('bPhone').value.trim();
  const date  = document.getElementById('bDate').value;
  const comment = document.getElementById('bComment').value.trim();

  if (!name || !phone || !date || !selectedTime) {
    showToast('‚ö†  –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è'); return;
  }

  // Save to localStorage immediately
  addBookedTime(date, selectedTime);
  renderTimeGrid(); // update UI to show slot as "–∑–∞–Ω—è—Ç–æ"

  const data = {type:'booking', name, phone, date, time:selectedTime, guests:selectedGuests, comment};
  pendingData = data;

  showSuccess('‚ú¶', '–ë—Ä–æ–Ω—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!',
    `–°—Ç–æ–ª–∏–∫ –Ω–∞ ${selectedGuests} ${guestWord(selectedGuests)}\n${formatDate(date)} ¬∑ ${selectedTime}\n\n–ú—ã —Å–≤—è–∂–µ–º—Å—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è`);
  selectedTime = '';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RENDER ORDER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function renderOrder() {
  const el = document.getElementById('orderContent');
  const keys = Object.keys(cart).map(Number);
  if (!keys.length) {
    el.innerHTML = `<div class="empty-state">
      <div class="empty-icon">üçΩ</div>
      <div class="empty-txt">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞<br>–í—ã–±–µ—Ä–∏—Ç–µ –±–ª—é–¥–∞ –∏–∑ –º–µ–Ω—é</div>
    </div>`; return;
  }
  let sub = 0;
  const rows = keys.map(id => {
    const m = MENU.find(x => x.id === id);
    const tot = m.price * cart[id]; sub += tot;
    return `<div class="oitem">
      <img class="oitem-img" src="${m.img}" alt="${m.name}"/>
      <div class="oitem-info">
        <div class="oitem-name">${m.name}</div>
        <div class="oitem-qty">${cart[id]} √ó ${m.price.toLocaleString()} ‚ÇΩ</div>
      </div>
      <div class="oitem-price">${tot.toLocaleString()} ‚ÇΩ</div>
    </div>`;
  }).join('');
  const svc = Math.round(sub * .1);
  const total = sub + svc;
  el.innerHTML = `
    <div class="order-list">${rows}</div>
    <div class="order-summary">
      <div class="sum-row"><span>–°—É–º–º–∞</span><span>${sub.toLocaleString()} ‚ÇΩ</span></div>
      <div class="sum-row"><span>–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–±–æ—Ä (10%)</span><span>${svc.toLocaleString()} ‚ÇΩ</span></div>
      <div class="sum-row total"><span>–ò—Ç–æ–≥–æ</span><span>${total.toLocaleString()} ‚ÇΩ</span></div>
    </div>
    <div style="padding:16px 20px 0">
      <button class="cta-btn" onclick="submitOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>`;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SUBMIT ORDER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function submitOrder() {
  const keys = Object.keys(cart).map(Number);
  if (!keys.length) return;
  const items = keys.map(id => {
    const m = MENU.find(x => x.id === id);
    return `${m.name} √ó ${cart[id]}`;
  });
  const total = keys.reduce((s,id) => s + MENU.find(x => x.id===id).price * cart[id], 0);
  pendingData = {type:'order', items, total};
  cart = {}; updateBadge();
  showSuccess('üçΩ', '–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!',
    `–í–∞—à –∑–∞–∫–∞–∑ –ø–µ—Ä–µ–¥–∞–Ω –Ω–∞ –∫—É—Ö–Ω—é\n–û–∂–∏–¥–∞–π—Ç–µ 30‚Äì40 –º–∏–Ω—É—Ç\n\n–°—É–º–º–∞: ${total.toLocaleString()} ‚ÇΩ`);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SEND TO BOT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function sendToBot(data) {
  if (tg?.sendData) { tg.sendData(JSON.stringify(data)); }
  else {
    fetch('/api/webapp-data',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).catch(()=>{});
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SUCCESS OVERLAY
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function showSuccess(icon, title, text) {
  document.getElementById('successIcon').textContent = icon;
  document.getElementById('successTitle').textContent = title;
  document.getElementById('successText').textContent = text;
  document.getElementById('successOverlay').classList.add('show');
  spawnSparks();
}
function closeSuccess() {
  document.getElementById('successOverlay').classList.remove('show');
  if (pendingData) { sendToBot(pendingData); pendingData = null; }
}

/* Particle sparks */
function spawnSparks() {
  const container = document.getElementById('sparks');
  container.innerHTML = '';
  const colors = ['#c8a45a','#e2c07a','#f5dda0','#d4621a','#fff'];
  const cx = window.innerWidth / 2;
  const cy = window.innerHeight / 2;
  for (let i = 0; i < 28; i++) {
    const s = document.createElement('div');
    s.className = 'spark';
    const angle = (i / 28) * Math.PI * 2;
    const dist = 80 + Math.random() * 140;
    const tx = Math.cos(angle) * dist + 'px';
    const ty = Math.sin(angle) * dist + 'px';
    Object.assign(s.style, {
      left: cx + 'px', top: cy + 'px',
      background: colors[i % colors.length],
      width: (2 + Math.random() * 4) + 'px',
      height: (2 + Math.random() * 4) + 'px',
      '--tx': `translateX(${tx})`,
      '--ty': `translateY(${ty})`,
      animationDelay: (Math.random() * .3) + 's',
      animationDuration: (.8 + Math.random() * .6) + 's',
    });
    container.appendChild(s);
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TOAST
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 2400);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RIPPLE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function addRipple(btn) {
  const r = document.createElement('span');
  r.className = 'ripple';
  const size = Math.max(btn.offsetWidth, btn.offsetHeight);
  Object.assign(r.style, {width: size+'px', height: size+'px',
    left: 0, top: 0, marginLeft: -(size/2)+'px', marginTop: -(size/2)+'px'});
  btn.appendChild(r);
  setTimeout(() => r.remove(), 600);
}

/* Ripple on all .cta-btn */
document.addEventListener('click', e => {
  const btn = e.target.closest('.cta-btn');
  if (!btn) return;
  const rect = btn.getBoundingClientRect();
  const r = document.createElement('span');
  r.className = 'ripple';
  const size = Math.max(btn.offsetWidth, btn.offsetHeight) * 2;
  Object.assign(r.style, {
    width: size+'px', height: size+'px',
    left: (e.clientX - rect.left - size/2)+'px',
    top:  (e.clientY - rect.top  - size/2)+'px',
  });
  btn.appendChild(r);
  setTimeout(() => r.remove(), 600);
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   HELPERS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function guestWord(n) {
  if (n === 1) return '–≥–æ—Å—Ç—è';
  if (n >= 2 && n <= 4) return '–≥–æ—Å—Ç–µ–π';
  return '–≥–æ—Å—Ç–µ–π';
}
function formatDate(d) {
  if (!d) return '';
  const [y,m,dd] = d.split('-');
  const months = ['—è–Ω–≤','—Ñ–µ–≤','–º–∞—Ä','–∞–ø—Ä','–º–∞–π','–∏—é–Ω','–∏—é–ª','–∞–≤–≥','—Å–µ–Ω','–æ–∫—Ç','–Ω–æ—è','–¥–µ–∫'];
  return `${+dd} ${months[+m-1]} ${y}`;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   INIT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.addEventListener('DOMContentLoaded', () => {
  // Min date = today
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('bDate').min = today;
  document.getElementById('bDate').value = today;
  document.getElementById('bDate').addEventListener('change', () => {
    selectedTime = '';
    renderTimeGrid();
  });

  buildCats();
  buildMenu();
  renderTimeGrid();
  buildGuests();
});
</script>
</body>
</html>
